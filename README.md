# Drawing Borad
### 用canvas实现一个涂鸦板
#### 目前实现功能：
- 兼容PC和移动端
- 多种笔刷颜色
- 调整笔刷粗细
- 清除画布
- 擦除
- 撤销(最多支持撤销10步, 太多怕挂了)
- 图片保存

### 实现思路

#### 画笔功能

1. 获取canvas
2. 设置初始化当前画布功能为画笔状态，以为我们后边要做橡皮擦功能，点击橡皮擦和颜色的时候要做一个区分。
3. 鼠标按下记录鼠标点击位置距离canvas画布的坐标并移动，记录上一个坐标点，然后移动鼠标开始画画
4. 为避免鼠标移动太快画笔产生断点，将两个坐标点连接
5. 鼠标抬起移除鼠标移动事件

#### 兼容移动端
1. 判断设备是否支持触摸
2. 是，则使用touch事件；否，则使用mouse事件

#### 颜色选择

1. 点击颜色让画布的ctx.strokeStyle等于你点击的背景颜色
2. 创建颜色数据结构

#### 清除画布
1. 获取元素节点
2. 点击按钮清空canvas画布

#### 橡皮擦
1. 获取元素节点，改变橡皮擦状态
2. 利用canvas剪裁的思路

裁剪（在canvas中的裁剪和平时的裁剪功能不一样在这里，裁剪是指在裁剪区域去显示我们所画的图）

#### 调整笔刷粗细
1. 创建input[type=range]
2. 滑动range获取其value值，并赋给ctx.lineWidth

#### 保存成图片
1. 获取canvas.toDateURL
2. 在页面里创建并插入一个a标签
3. a标签href等于canvas.toDateURL，并添加download属性
4. 点击保存按钮，a标签触发click事件

#### 撤销
1. 准备一个数组记录历史操作
2. 每次使用画笔前将当前绘图表面储存进数组
3. 点击撤销时，恢复到上一步的绘图表面

因为每次储存都是将一张图片存入内存，对性能影响较大，所以在这里设置了储存上限

